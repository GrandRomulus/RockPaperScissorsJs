<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

</head>
<body> 
    <h4>Rock, Paper, Scissors!</h4>
    <input type="text" id="userInput" placeholder="Enter Choice" maxlength="10">

    <button onclick="buttonFunc()">Submit</button> 
    
    <div id="PlayerSelect">
        <label for="PlayerSelection">Player:</label><p id="PlayerSelection"></p>
    </div>

    <div id="CompSelect">
        <label for="CompSelection">Comp:</label><p id="CompSelection"></p>
    </div>

    <label for="EndResult">Result:</label>
    <p id="EndResult"></p>

</body>
<script>
    const list = ["Rock", "Paper", "Scissors"];

    function refreshPage(){
    window.location.reload();
    } 

    function userSelection() {
    input = document.getElementById("userInput").value
    localStorage.setItem("input", input)
    }

    function buttonFunc() {
        refreshPage();
        userSelection();
    }

    function getComputerChoice() {
    let index = Math.floor(Math.random() * list.length);
    if (playerSelection == null) {
        return null;
    } else {
    return list[index];
    }
    }

    const playerSelection = localStorage.getItem('input');
    const computerSelection = getComputerChoice();

    function playRound(playerSelection, computerSelection) {
    if (playerSelection == "Rock" && computerSelection == "Paper") {
        return result = "Computer Wins!";
    } else if (playerSelection == "Scissors" && computerSelection == "Rock") {
        return result = "Computer Wins!";
    } else if (playerSelection == "Paper" && computerSelection == "Rock") {
        return result = "Player1 Wins!";
    } else if (playerSelection == "Paper" && computerSelection == "Scissors") {
        return result = "Computer Wins!";
    } else if (playerSelection == "Rock" && computerSelection == "Scissors") {
        return result = "Player1 Wins!";
    } else if (playerSelection == null) {
        return result = "Enter choice...!"
    } else {
        return result = "Draw!"
    }
    }

    document.getElementById('PlayerSelection').innerHTML = "";
    document.getElementById('CompSelection').innerHTML = "";
    document.getElementById('PlayerSelection').innerHTML = playerSelection;
    document.getElementById('CompSelection').innerHTML = computerSelection;
    document.getElementById('EndResult').innerHTML = playRound(playerSelection, computerSelection);

    console.log(playRound(playerSelection, computerSelection));
    console.log(computerSelection)
    console.log(playerSelection)
    localStorage.clear()
</script>
<style>
    #PlayerSelect {
        display: flex;
        flex-direction: row;
        align-items: flex-start;
        margin-bottom: 10px;
    }

    #PlayerSelection {
        display: flex;
        align-items: flex-start;
        margin: 0px;
        margin-bottom: 10px;
        margin-left: 5px;
    }
</style>
</html>